{% extends 'base.html' %}
{% block content %}
    <div class="register-container">
        <h2>Criar Conta</h2>

        {% if messages %}
            <div class="messages">
                {% for message in messages %}
                    <p class="{% if message.tags == 'success' %}success{% else %}error{% endif %}">{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}

        <form method="post" class="register-form">
            {% csrf_token %}
            <p>
                <label for="{{ form.email.id_for_label }}">E-mail</label>
                {{ form.email }}
                {% if form.email.errors %}
                    <span class="error">{{ form.email.errors.as_text }}</span>
                {% endif %}
            </p>
            <p>
                <label for="{{ form.password.id_for_label }}">Senha</label>
                {{ form.password }}
                {% if form.password.errors %}
                    <span class="error">{{ form.password.errors.as_text }}</span>
                {% endif %}
            </p>
            <p>
                <label for="{{ form.password_confirm.id_for_label }}">Confirme a Senha</label>
                {{ form.password_confirm }}
                {% if form.password_confirm.errors %}
                    <span class="error">{{ form.password_confirm.errors.as_text }}</span>
                {% endif %}
            </p>
            {% if form.non_field_errors %}
                <span class="error">{{ form.non_field_errors.as_text }}</span>
            {% endif %}
            <button type="submit">Cadastrar</button>
            <a href="{% url 'accounts:login' %}">Já tem conta? Faça login</a>
        </form>
    </div>
{% endblock %}